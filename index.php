<?php// Check if form is submittedif(isset($_POST['send'])) {		// Create empty array for potential errors	$errorList = array();		// Check post data	if(			!isset($_POST['contact_name']) ||		!isset($_POST['contact_email']) ||		!isset($_POST['contact_message'])	) {		// If missing post data set error		$hasError = true;		array_push($errorList, 'Form data not processing, please email us instead!');	}		// Function to clean post info	function clean_string($string) {			$bad = array("content-type","bcc:","to:","cc:","href");			return str_replace($bad,"",$string);		}			// Assign variables from post data	$contact_name 			= clean_string($_POST['contact_name']);	$contact_email 			= clean_string($_POST['contact_email']);	$contact_message 		= clean_string($_POST['contact_message']);		// Check for empty required fields.  Set error if empty	if ($contact_name == '') {		$hasError = true;		array_push($errorList, 'Please enter your name!');	}	if ($contact_message == '') {		$hasError = true;		array_push($errorList, 'Please enter your message!');	}		// Check email, set error if not valid	if (!eregi("^[A-Z0-9._%-]+@[A-Z0-9._%-]+\.[A-Z]{2,4}$", $contact_email)) {		$hasError = true;		array_push($errorList, 'Please enter a valid email address!');	}		// If no error, send message	if(!isset($hasError)) {			$emailTo = "foo@foo.com"; // INSERT EMAIL ADDRESS YOU WANT MESSAGE TO BE SENT TO		$subject = "Message From " . $contact_name;  // CHANGE EMAIL SUBJECT HERE				$body = "Name:\r\n $contact_name\r\n\r\n";		$body .= "Email:\r\n $contact_email\r\n\r\n";		$body .= "Message:\r\n $contact_message";				$headers  = 'MIME-Version: 1.0' . "\r\n";		$headers .= 'Content-Type: text/plain; charset=utf-8' . "\r\n";		$headers .= 'From: Sail Web Studios<' . $emailTo . '>' . "\r\n";		$headers .= 'Reply-To: ' . $contact_email . "\r\n";				$mailSent = mail($emailTo, $subject, $body, $headers);			if ($mailSent) {			$emailSent = true;		}				// Set success message, strip output for display on webpage		$successMessage = "<p><b>Name:</b><br> " . htmlspecialchars($contact_name) . "</p>";		$successMessage .= "<p><b>Email:</b><br> " . htmlspecialchars($contact_email) . "</p>";		$successMessage .= "<p><b>Message:</b><br> " . htmlspecialchars($contact_message) . "</p>";	} // End if no error} // End if form submitted and start page content?><!DOCTYPE html><html lang="en"><head>	<meta charset="utf-8">	<meta http-equiv="X-UA-Compatible" content="IE=edge">	<meta name="viewport" content="width=device-width, initial-scale=1.0">	<title>Bootstrap Contact Form</title>	<!-- Bootstrap core CSS -->	<link href="../css/bootstrap.css" rel="stylesheet">	<style type="text/css">		#footer {			background: #333; 			color: #fff; 			margin-top: 80px;			padding: 45px 0; 			border-top: solid 5px #3276b1; 			border-bottom: solid 5px #3276b1; 			text-align: center;			}		form#contact {			margin: 50px 0 0 0;			}					/* CUSTOMIZE ERROR MESSAGE TO YOUR LIKING */		label.error {				display: block;			width: 100%;			margin: 15px 0 0 0;			padding: 10px;			border: 1px solid transparent;			border-radius: 4px;			background: #f2dede;			color: #a94442;			}	</style>		<!-- jQuery -->	<script src="../js/jquery-2.1.0.min.js"></script>	<! -- Bootstrap JS -- >	<script src="../js/bootstrap.min.js"></script>	<!-- jquery Validation -->	<script src="../js/jquery.validate.min.js"></script>		<!-- Custom JS -->	<script> 		$(document).ready(function() {					// Focus on first input.  Delete if not wanted			$(':text:first').focus();						// Set jQuery validation parameters			$('#contact').validate({				rules: {					contact_name: 'required',					contact_email: {						required:true,						email:true					},					contact_message: {						required:true,						minlength:10					}				}, // Set error messages				messages: {					contact_name: {						required: "Please enter your name"					},					contact_email: {						required: "Please enter your email",						email: "Please enter a valid email address"					},					contact_message: {						required: "Please enter your message",						minlength: "Please enter a message longer than 10 characters"					}				}			});					}); // end document ready	</script></head><body>

<div id="contact-form" class="container">	<div class="jumbotron text-center" style="margin-top: 20px;">		<h1>Bootstrap Contact form</h1>		<p class="lead">Validation with jQuery and PHP.  Responsive design with Bootstrap</p>	</div>			<?php		// List PHP errors		if (isset($hasError)) {			foreach ($errorList as &$value) {				echo '<div class="alert alert-danger"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>' . $value . '</div>';			}		} 			// If message sent		if(isset($emailSent) && $emailSent == true)  { ?>					<!-- This will only be displayed once message is sent successfully -->			<div class="alert alert-success alert-dismissable">				<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>				<h2>Message successfully sent!</h2>					<p>Thanks for the message!  A member of our staff will get back with you as soon as possible!</p>					<p><?php echo $successMessage; ?></p>			</div>			<p class="lead text-center">Send another <a href="../">message</a>!</p>				<?php } else { // If message is not sent ?>			<!-- This will only be displayed before message is sent -->			<div class="text-center">				<h2>General Inquiries</h2>				<p class="lead">Use the below form to send us a message!</p>			</div>
			<form id="contact" class="form-horizontal" role="form" method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>">				<div class="form-group">					<label class="col-sm-2 control-label" for="contact_name"><span class="text-danger">*</span> Name</label>					<div class="col-sm-10">						<input id="contact_name" name="contact_name" type="text" placeholder="Your name" maxlength="50" class="form-control">					</div>				</div>								<div class="form-group">					<label class="col-sm-2 control-label" for="contact_email"><span class="text-danger">*</span> Email</label>					<div class="col-sm-10">						<input id="contact_email" name="contact_email" type="text" placeholder="Your email address" maxlength="80" class="form-control">					</div>				</div>				<div class="form-group">					<label class="col-sm-2 control-label" for="contact_message"><span class="text-danger">*</span> Message</label>					<div class="col-sm-10">						<textarea id="contact_message"  name="contact_message" placeholder="Your message" maxlength="500" class="form-control" rows="6"></textarea>					</div>				</div>				<div class="form-group">					<div class="col-sm-offset-2 col-sm-10">						<button name="send" id="send" type="submit" class="btn btn-lg btn-primary btn-block">Send Message</button>					</div>				</div> 			</form>				<?php } //end if message is not sent ?>		</div><!-- /.container --><div id="footer">	<div class="container">		<h4>Built as a free resource by <a href="http://www.cruisebogedin.com" target="_blank">Cruise Bogedin</a></h4>		<p>Powered by <a href="https://github.com/jzaefferer/jquery-validation/" target="_blank">Zaeferer's jQuery-Validation</a></p>		<p>Spiffed up with <a href="http://www.getbootstrap.com" target="_blank">Bootstrap</a></p>	</div></div>
</body></html>